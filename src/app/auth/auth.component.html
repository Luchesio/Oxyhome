<div class="auth-wrapper">
  <div class="auth-overlay"></div>

  <div class="auth-card">
    <div class="auth-header">
      <h2>{{ isLoginMode ? "Welcome Back" : "Create Account" }}</h2>
      <p>
        {{
          isLoginMode
            ? "Please login to continue"
            : "Fill in the details to get started"
        }}
      </p>
    </div>

    <!-- LOGIN FORM -->
    <form *ngIf="isLoginMode" (ngSubmit)="onLogin()">
      <div class="form-group">
        <label>Email Address</label>
        <input
          type="email"
          name="loginEmail"
          [(ngModel)]="loginEmail"
          placeholder="e.g. user@example.com"
          required
        />
      </div>
      <div class="form-group">
        <label>Password</label>
        <div style="position: relative; display: flex; align-items: center">
          <input
            [type]="showLoginPassword ? 'text' : 'password'"
            name="loginPassword"
            [(ngModel)]="loginPassword"
            placeholder="Enter your password"
            required
            style="flex: 1"
          />
          <button
            type="button"
            (click)="showLoginPassword = !showLoginPassword"
            style="
              position: absolute;
              right: 8px;
              background: none;
              border: none;
              cursor: pointer;
              font-size: 1.1em;
              color: #888;
            "
            tabindex="-1"
            aria-label="Toggle password visibility"
          >
            <span *ngIf="!showLoginPassword">ğŸ‘ï¸</span>
            <span *ngIf="showLoginPassword">ğŸ™ˆ</span>
          </button>
        </div>
      </div>
      <button type="submit" class="primary-btn" [disabled]="isLoggingIn">
        {{ isLoggingIn ? "Logging in" : "Login" }}
      </button>
    </form>

    <!-- SIGNUP FORM -->
    <form *ngIf="!isLoginMode" (ngSubmit)="onSignup()">
      <div class="form-group">
        <label>First Name</label>
        <input
          type="text"
          name="signupFirstName"
          [(ngModel)]="signupFirstName"
          placeholder="John"
          required
        />
      </div>

      <div class="form-group">
        <label>Last Name</label>
        <input
          type="text"
          name="signupLastName"
          [(ngModel)]="signupLastName"
          placeholder="Doe"
          required
        />
      </div>

      <div class="form-group">
        <label>Email Address</label>
        <input
          type="email"
          name="signupEmail"
          [(ngModel)]="signupEmail"
          placeholder="user@example.com"
          required
        />
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input
          type="text"
          name="signupPhoneNumber"
          [(ngModel)]="signupPhoneNumber"
          placeholder="09056035245"
          required
          pattern="^0[7-9][0-1]\d{8}$"
        />
        <small
          style="
            color: #666;
            font-size: 0.75rem;
            display: block;
            margin-top: 4px;
          "
        >
          Format: 09056035245 (starts with 070-091)
        </small>
      </div>

      <div class="form-group">
        <label>Password</label>
        <div style="position: relative; display: flex; align-items: center">
          <input
            [type]="showSignupPassword ? 'text' : 'password'"
            name="signupPassword"
            [(ngModel)]="signupPassword"
            placeholder="Min 8 characters"
            required
            minlength="8"
            style="flex: 1"
          />
          <button
            type="button"
            (click)="showSignupPassword = !showSignupPassword"
            style="
              position: absolute;
              right: 8px;
              background: none;
              border: none;
              cursor: pointer;
              font-size: 1.1em;
              color: #888;
            "
            tabindex="-1"
            aria-label="Toggle password visibility"
          >
            <span *ngIf="!showSignupPassword">ğŸ‘ï¸</span>
            <span *ngIf="showSignupPassword">ğŸ™ˆ</span>
          </button>
        </div>
      </div>

      <div class="form-group">
        <label>Confirm Password</label>
        <div style="position: relative; display: flex; align-items: center">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            name="signupConfirmPassword"
            [(ngModel)]="signupConfirmPassword"
            placeholder="Re-enter your password"
            required
            minlength="8"
            style="flex: 1"
          />
          <button
            type="button"
            (click)="showConfirmPassword = !showConfirmPassword"
            style="
              position: absolute;
              right: 8px;
              background: none;
              border: none;
              cursor: pointer;
              font-size: 1.1em;
              color: #888;
            "
            tabindex="-1"
            aria-label="Toggle password visibility"
          >
            <span *ngIf="!showConfirmPassword">ğŸ‘ï¸</span>
            <span *ngIf="showConfirmPassword">ğŸ™ˆ</span>
          </button>
        </div>
      </div>

      <button type="submit" class="primary-btn">Sign Up</button>
    </form>

    <div class="auth-footer">
      <p>
        {{
          isLoginMode ? "Don't have an account?" : "Already have an account?"
        }}
        <a (click)="onSwitchMode()">
          {{ isLoginMode ? "Sign up" : "Login" }}
        </a>
      </p>
    </div>
  </div>
</div>
